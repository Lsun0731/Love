<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/css.css">
    <title>Love</title>
    <!-- 引入jq -->
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.js"></script>
    <!-- 引入bootstrap css -->
    <link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.0.0-beta3/css/bootstrap.css" rel="stylesheet">
    <!-- 引入bootstrap js -->
    <script src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.0.0-beta3/js/bootstrap.js"></script>
</head>

<body id="body-bg">
    <div class="container">
        <div class="image-warp">
            <img src="" alt="" srcset="">
        </div>


    </div>

    <script>
        $(function () {

            //以下代码仅为演示用,具体传入参数请参看接口描述详情页.
            //需要引用jquery库

            $.ajax({
                type: 'post',
                url: 'http://route.showapi.com/1287-1',
                dataType: 'json',
                data: {
                    "showapi_timestamp": formatterDateTime(),
                    "showapi_appid": '368423', //这里需要改成自己的appid
                    "showapi_sign": 'fc34e670e22f4009813a06bdf75a1b37', //这里需要改成自己的应用的密钥secret
                },


                success: function (res) {
                    var data = res.showapi_res_body.data
                    console.log(data)
                    $('.image-warp').find('img').attr('src', data.img_1920)
                },
                error: function (res) {
                    console.log(res)
                }
            })

            $.ajax({
                type: 'get',
                url: 'https://restapi.amap.com/v3/weather/weatherInfo',
                dataType: 'json',
                data: {
                    key:'e491fcf063c52a4be0b2ff7da42e3b69',
                    city:'济宁',
                    extensions:'base'
                    
                },
                success: function (res) {
                    console.log(res)
                },
                error: function (res) {
                    console.log(res)
                }
            })






        });

        function formatterDateTime() {
            var date = new Date()
            var month = date.getMonth() + 1
            var datetime = date.getFullYear() +
                "" // "年"
                +
                (month >= 10 ? month : "0" + month) +
                "" // "月"
                +
                (date.getDate() < 10 ? "0" + date.getDate() : date.getDate()) +
                "" +
                (date.getHours() < 10 ? "0" + date.getHours() : date.getHours()) +
                "" +
                (date.getMinutes() < 10 ? "0" + date.getMinutes() : date.getMinutes()) +
                "" +
                (date.getSeconds() < 10 ? "0" + date.getSeconds() : date.getSeconds());
            return datetime;
        }
    </script>
</body>

</html>